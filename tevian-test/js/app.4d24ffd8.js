(function(e){function t(t){for(var s,r,i=t[0],c=t[1],l=t[2],d=0,p=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},o=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0272":function(e,t,a){},"280a":function(e,t,a){"use strict";a("fd53")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"wrapper"},[a("Header",{attrs:{user:e.user,token:e.token},on:{login:e.getUser}}),a("div",{staticClass:"container"},[a("router-view",{on:{login:e.getUser}})],1)],1)])},o=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"header"},[a("div",{staticClass:"container"},[a("nav",[a("router-link",{attrs:{to:{name:"home"}}},[a("h1",{staticClass:"nav-logo"},[e._v("Home")])]),e.user?e._e():a("ul",{staticClass:"nav-links"},[a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1),a("li",{staticClass:"nav-item"},[a("router-link",{attrs:{to:{name:"register"}}},[e._v("Registration")])],1)]),e.user?a("div",{staticClass:"user-mail"},[e._v("User: "+e._s(e.user))]):e._e(),e.token?a("a",{staticClass:"nav-item",attrs:{href:"javascript:void(0)"},on:{click:e.logout}},[e._v("Logout")]):e._e()],1)])])},i=[],c={props:{token:{required:!0},user:{required:!0}},methods:{logout:function(){localStorage.removeItem("tevian-token"),localStorage.removeItem("tevian-user"),this.$emit("login"),this.$router.push("login")}}},l=c,u=(a("adc8"),a("2877")),d=Object(u["a"])(l,r,i,!1,null,"3dd46d10",null),p=d.exports,m={name:"App",components:{Header:p},data:function(){return{token:null,user:null}},methods:{getUser:function(){this.token=localStorage.getItem("tevian-token"),this.user=localStorage.getItem("tevian-user")}},created:function(){this.getUser()}},v=m,h=(a("5c0b"),Object(u["a"])(v,n,o,!1,null,null,null)),f=h.exports,g=a("1dce"),w=a.n(g),b=(a("caad"),a("8c4f")),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("ImageBlock",{on:{refresh:e.updatePersons}}),a("Persons",{ref:"persons"})],1)},_=[],$=a("bc3a"),P=a.n($),y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"image-wrapper"},[e.image?a("div",{staticClass:"image-block"},[a("div",{staticClass:"img-wrapper",attrs:{id:"wrapper"}},[a("img",{staticClass:"img",attrs:{src:e.image}}),e._l(e.faces,(function(t,s){return a("Face",{key:s,attrs:{index:s,face:t},on:{savePerson:e.loadPerson}})}))],2),a("button",{staticClass:"delete-btn",on:{click:e.removeImage}},[e._v("Remove image")])]):a("div",{staticClass:"upload"},[a("input",{staticClass:"custom-input",attrs:{type:"file",accept:".jpeg"},on:{change:e.onFileChange}})])])},x=[],k=(a("99af"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"face-wrapper"},[a("div",{staticClass:"face",attrs:{id:e.id},on:{click:e.inputData}}),e.showInput?a("div",{staticClass:"face-modal"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.savePerson.apply(null,arguments)}}},[a("h5",[e._v("Person:")]),a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.faceData.name,expression:"faceData.name"}],attrs:{type:"text",required:""},domProps:{value:e.faceData.name},on:{input:function(t){t.target.composing||e.$set(e.faceData,"name",t.target.value)}}}),a("label",[e._v("Surname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.faceData.surname,expression:"faceData.surname"}],attrs:{type:"text",required:""},domProps:{value:e.faceData.surname},on:{input:function(t){t.target.composing||e.$set(e.faceData,"surname",t.target.value)}}}),a("label",[e._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.faceData.lastname,expression:"faceData.lastname"}],attrs:{type:"text",required:""},domProps:{value:e.faceData.lastname},on:{input:function(t){t.target.composing||e.$set(e.faceData,"lastname",t.target.value)}}}),a("label",[e._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.faceData.gender,expression:"faceData.gender"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.faceData,"gender",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"male"}},[e._v("male")]),a("option",{attrs:{value:"female"}},[e._v("female")])]),a("div",{staticClass:"btns"},[a("button",{staticClass:"save",attrs:{type:"submit"}},[e._v("Save")]),a("button",{staticClass:"close",on:{click:e.close}},[e._v("Close")])])])]):e._e()])}),D=[],I={props:{face:{type:Object,requred:!0},index:{requred:!0}},data:function(){return{id:null,showInput:!1,faceData:{name:"",surname:"",lastname:"",gender:""},faceArr:[]}},created:function(){this.id=this.index+1},mounted:function(){var e=document.getElementById(this.id),t=this.face.bbox.height,a=this.face.bbox.width,s=this.face.bbox.x,n=this.face.bbox.y;this.faceArr=[s,n,a,t],e.style.position="absolute",e.style.left=s+"px",e.style.top=n+"px",e.style.width=a+"px",e.style.height=t+"px",e.style.border="1px solid yellow"},methods:{inputData:function(){this.faceData.gender=this.face.demographics.gender,this.showInput=!0},savePerson:function(){this.$store.dispatch("setFace",this.faceData),console.log("face setcoords",this.faceArr),this.$store.dispatch("setFaceCoord",this.faceArr),this.$emit("savePerson"),this.showInput=!1,this.faceData={name:"",surname:"",lastname:"",gender:""},this.faceArr=[]},close:function(){this.showInput=!1,this.faceData={name:"",surname:"",lastname:"",gender:""},this.faceArr=[]}}},S=I,j=(a("280a"),Object(u["a"])(S,k,D,!1,null,"beafa020",null)),F=j.exports,O={components:{Face:F},data:function(){return{image:null,imageFile:null,faces:null}},methods:{onFileChange:function(e){var t=e.target.files||e.dataTransfer.files;t.length&&this.createImage(t[0])},createImage:function(e){var t=this,a=new FileReader;this.imageFile=e,a.onload=function(e){t.image=e.target.result},this.uploadImage(),a.readAsDataURL(e)},removeImage:function(){this.image=null,this.imageFile=null,this.faces=null},uploadImage:function(){var e=this,t=this.imageFile;P.a.post("api/v1/detect?demographics=true",t,{headers:{"Content-Type":"image/jpeg"}}).then((function(t){console.log("image uploaded",t),e.faces=t.data.data})).catch((function(e){console.log("upload err",e)}))},loadPerson:function(){var e=this,t=this.$store.getters.getFace,a=this.$store.getters.getDB;P.a.post("api/v1/persons",{data:t,database_id:a},{headers:{"Content-Type":"application/json"}}).then((function(t){console.log("person uploaded");var a=t.data.data.id;console.log("person id",a),e.loadCoords(a)})).catch((function(e){console.log("person upload err",e)}))},loadCoords:function(e){var t=this,a=this.$store.getters.getFaceCoord;console.log("loadCoords",a);var s=this.imageFile;P.a.post("api/v1/photos?face=".concat(a,"&person_id=").concat(e),s,{headers:{"Content-Type":"image/jpeg"}}).then((function(e){console.log("person image uploaded"),t.$emit("refresh")})).catch((function(e){console.log("upload err coords",e)}))}}},B=O,q=(a("ad66"),Object(u["a"])(B,y,x,!1,null,"277e117e",null)),T=q.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"persons-wrapper"},[a("ul",{staticClass:"persons-list"},e._l(e.persons,(function(t,s){return a("Person",{key:s,attrs:{person:t},on:{refresh:e.listPersons}})})),1)])},E=[],L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"person-wrapper"},[a("div",{staticClass:"person-img",attrs:{id:e.photoID}}),a("div",{staticClass:"person-data"},[a("span",[e._v("First Name: "+e._s(e.person.data.name))]),a("span",[e._v("Surname: "+e._s(e.person.data.surname))]),a("span",[e._v("Last Name: "+e._s(e.person.data.lastname))]),a("span",[e._v("Gender: "+e._s(e.person.data.gender))])]),a("div",{staticClass:"controls"},[a("button",{staticClass:"change",on:{click:e.changePerson}},[e._v("Change")]),a("button",{staticClass:"delete",on:{click:e.deletePerson}},[e._v("Delete")])]),e.showModal?a("div",{staticClass:"person-modal"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.savePerson.apply(null,arguments)}}},[a("h5",[e._v("Person:")]),a("label",[e._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPerson.name,expression:"newPerson.name"}],attrs:{type:"text",required:""},domProps:{value:e.newPerson.name},on:{input:function(t){t.target.composing||e.$set(e.newPerson,"name",t.target.value)}}}),a("label",[e._v("Surname")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPerson.surname,expression:"newPerson.surname"}],attrs:{type:"text",required:""},domProps:{value:e.newPerson.surname},on:{input:function(t){t.target.composing||e.$set(e.newPerson,"surname",t.target.value)}}}),a("label",[e._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPerson.lastname,expression:"newPerson.lastname"}],attrs:{type:"text",required:""},domProps:{value:e.newPerson.lastname},on:{input:function(t){t.target.composing||e.$set(e.newPerson,"lastname",t.target.value)}}}),a("label",[e._v("Gender")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPerson.gender,expression:"newPerson.gender"}],attrs:{type:"text",required:""},domProps:{value:e.newPerson.gender},on:{input:function(t){t.target.composing||e.$set(e.newPerson,"gender",t.target.value)}}}),a("div",{staticClass:"btns"},[a("button",{staticClass:"save",attrs:{type:"submit"}},[e._v("Save")]),a("button",{staticClass:"close",on:{click:e.close}},[e._v("Close")])])])]):e._e()])},M=[],A=(a("b0c0"),{props:{person:{type:Object,required:!0}},data:function(){return{showModal:!1,newPerson:{},photoID:null}},created:function(){var e=this;console.log(this.person.id),P.a.get("/api/v1/persons/".concat(this.person.id,"/photos?page=0&per_page=1"),{headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data.data[0];a&&(e.photoID=a.id,e.getPicById())})).catch((function(e){return console.log("err get person pic",e)}))},methods:{changePerson:function(){this.newPerson={name:this.person.data.name,surname:this.person.data.surname,lastname:this.person.data.lastname,gender:this.person.data.gender},this.showModal=!0},savePerson:function(){var e=this;console.log(this.newPerson),P.a.post("api/v1/persons/".concat(this.person.id),{data:this.newPerson},{headers:{"Content-Type":"application/json"}}).then((function(t){console.log("person changed",t),e.showModal=!1,e.newPerson={},e.$emit("refresh")})).catch((function(e){console.log("person change err",e)}))},deletePerson:function(){var e=this;P.a.delete("api/v1/persons/".concat(this.person.id)).then((function(t){console.log("person deleted",t),e.showModal=!1,e.newPerson={},e.$emit("refresh")})).catch((function(e){console.log("person change err",e)}))},close:function(){this.showModal=!1,this.newPerson={}},getPicById:function(){var e=this,t=this.photoID;console.log("ph id 2",t),P.a.get("/api/v1/photos/".concat(t,"/image/face"),{headers:{"Content-Type":"application/json"}}).then((function(t){var a="data:image/jpeg;base64,"+t.data,s=new Image;s.src=a,document.getElementById("".concat(e.photoID)).appendChild(s)})).catch((function(e){return console.log("err get person pic img",e)}))}}}),U=A,R=(a("bec7"),Object(u["a"])(U,L,M,!1,null,"932044fe",null)),z=R.exports,G={components:{Person:z},data:function(){return{persons:[]}},methods:{listPersons:function(){var e=this;console.log("listing persons");var t=this.$store.getters.getDB;P.a.get("/api/v1/databases/".concat(t,"/persons"),{headers:{"Content-Type":"application/json"}}).then((function(t){e.persons=t.data.data})).catch((function(e){return console.log("err-getPersons",e)}))}}},H=G,J=(a("61e0"),Object(u["a"])(H,N,E,!1,null,"21bb5c68",null)),K=J.exports,Q={components:{ImageBlock:T,Persons:K},data:function(){return{token:"",user:"",database:"",image:"",imageFile:null,faces:null}},created:function(){this.database="",this.user=localStorage.getItem("tevian-user"),this.user&&this.listDB()},methods:{listDB:function(){var e=this;P.a.get("/api/v1/databases?page=0&per_page=1",{headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data.pagination.total_items;console.log("db-num",a),a?(console.log("db id",t.data.data[0].id),e.database=t.data.data[0].id,e.$store.dispatch("setDB",e.database),e.updatePersons()):(console.log("creating DB"),e.createDB())})).catch((function(e){return console.log("err get DB",e)}))},createDB:function(){var e=this;P.a.post("api/v1/databases",{data:{}},{headers:{"Content-Type":"application/json"}}).then((function(t){console.log("new db id",t.data.data.id),e.database=t.data.data.id,e.$store.dispatch("setDB",e.database),e.updatePersons()})).catch((function(e){return console.log("err create DB",e)}))},updatePersons:function(){this.$refs.persons.listPersons()}}},V=Q,W=(a("c1cd"),Object(u["a"])(V,C,_,!1,null,"48de49e0",null)),X=W.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth-wrapper"},[a("h1",[e._v("Login")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-item",class:{errorInput:e.$v.email.$error}},[a("label",[e._v("Email:")]),e.$v.email.email?e._e():a("p",{staticClass:"errorText"},[e._v(" Email is not correct!")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{error:e.$v.email.$error},domProps:{value:e.email},on:{change:function(t){return e.$v.email.$touch()},input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-item",class:{errorInput:e.$v.password.$error}},[a("label",[e._v("Password")]),e.$v.password.minLength?e._e():a("p",{staticClass:"errorText"},[e._v(" Password must have at least "+e._s(e.$v.password.$params.minLength.min)+" !")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:{error:e.$v.password.$error},domProps:{value:e.password},on:{change:function(t){return e.$v.password.$touch()},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("button",[e._v("Log In")]),a("a",{staticClass:"switch",on:{click:e.handleSwitch}},[e._v("Registration")])])])},Z=[],ee=a("b5ae"),te={data:function(){return{email:"",password:""}},validations:{email:{required:ee["required"],email:ee["email"]},password:{required:ee["required"],minLength:Object(ee["minLength"])(6)}},methods:{onSubmit:function(){var e=this;if(this.$v.$touch(),!this.$v.$invalid){var t={email:this.email,password:this.password};console.log(t),P.a.post("api/v1/login",t).then((function(a){console.log(a),localStorage.setItem("tevian-token",a.data.data.access_token),localStorage.setItem("tevian-user",t.email),e.$emit("login"),e.$router.push("/")})).catch((function(e){console.log(e)})),this.email="",this.password="",this.$v.$reset()}},handleSwitch:function(){this.$router.push("registration"),this.$v.$reset()}}},ae=te,se=Object(u["a"])(ae,Y,Z,!1,null,null,null),ne=se.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.created?a("Modal",{attrs:{created:e.created},on:{fail:function(t){return e.retry()}}}):a("div",{staticClass:"auth-wrapper"},[a("h1",[e._v("Registration")]),a("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-item",class:{errorInput:e.$v.email.$error}},[a("label",[e._v("Email:")]),e.$v.email.email?e._e():a("p",{staticClass:"errorText"},[e._v(" Email is not correct!")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:{error:e.$v.email.$error},domProps:{value:e.email},on:{change:function(t){return e.$v.email.$touch()},input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"form-item",class:{errorInput:e.$v.password.$error}},[a("label",[e._v("Password")]),e.$v.password.minLength?e._e():a("p",{staticClass:"errorText"},[e._v(" Password must have at least "+e._s(e.$v.password.$params.minLength.min)+" !")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:{error:e.$v.password.$error},domProps:{value:e.password},on:{change:function(t){return e.$v.password.$touch()},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("div",{staticClass:"form-item",class:{errorInput:e.$v.passwordCheck.$error}},[a("label",[e._v("Check Password")]),e.$v.passwordCheck.sameAsPassword?e._e():a("p",{staticClass:"errorText"},[e._v(" Password is not correct!")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordCheck,expression:"passwordCheck"}],class:{error:e.$v.passwordCheck.$error},domProps:{value:e.passwordCheck},on:{change:function(t){return e.$v.passwordCheck.$touch()},input:function(t){t.target.composing||(e.passwordCheck=t.target.value)}}})]),a("button",[e._v("Sign Up")]),a("a",{staticClass:"switch",on:{click:e.handleSwitch}},[e._v("I have an account")])])])},re=[],ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal"},[a("div",{staticClass:"modal-content"},[e.checkCross?a("div",{staticClass:"check"},[a("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[a("path",{staticStyle:{fill:"#1E90FF"},attrs:{d:"M225.882,331.294c-7.981-0.03-15.616-3.223-21.233-8.885l-45.176-45.176\n                c-11.761-11.761-11.761-30.856,0-42.616s30.856-11.761,42.616,0l25.449,25.449l84.179-72.132\n                c13.809-9.276,32.527-5.587,41.788,8.222c7.695,11.475,6.611,26.699-2.635,36.954l-105.412,90.353\n                C240.083,328.343,233.141,331.128,225.882,331.294z"}}),a("path",{staticStyle:{fill:"#166CBF"},attrs:{d:"M256,512C114.613,512,0,397.387,0,256S114.613,0,256,0s256,114.613,256,256S397.387,512,256,512z\n                M256,60.235C147.878,60.235,60.235,147.878,60.235,256S147.878,451.765,256,451.765S451.765,364.122,451.765,256\n                S364.122,60.235,256,60.235z"}})])]):a("div",{staticClass:"cross"},[a("svg",{attrs:{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"m256 0c-141.164062 0-256 114.835938-256 256s114.835938 256 256 256 256-114.835938 256-256-114.835938-256-256-256zm0 0",fill:"#f44336"}}),a("path",{attrs:{d:"m350.273438 320.105469c8.339843 8.34375 8.339843 21.824219 0 30.167969-4.160157 4.160156-9.621094 6.25-15.085938 6.25-5.460938 0-10.921875-2.089844-15.082031-6.25l-64.105469-64.109376-64.105469 64.109376c-4.160156 4.160156-9.621093 6.25-15.082031 6.25-5.464844 0-10.925781-2.089844-15.085938-6.25-8.339843-8.34375-8.339843-21.824219 0-30.167969l64.109376-64.105469-64.109376-64.105469c-8.339843-8.34375-8.339843-21.824219 0-30.167969 8.34375-8.339843 21.824219-8.339843 30.167969 0l64.105469 64.109376 64.105469-64.109376c8.34375-8.339843 21.824219-8.339843 30.167969 0 8.339843 8.34375 8.339843 21.824219 0 30.167969l-64.109376 64.105469zm0 0",fill:"#fafafa"}})])]),a("p",[e._v(" "+e._s(e.changeMessage())+" ")])])])},ce=[],le={props:{created:{type:String,required:!0}},data:function(){return{checkCross:null}},methods:{changeMessage:function(){var e=this;return"success"==this.created?(this.checkCross=!0,setTimeout((function(){return e.$router.push("login")}),3e3),"New user created! Login now."):"fail"==this.created?(this.checkCross=!1,setTimeout((function(){return e.$emit("fail")}),3e3),"Invalid data! Try again"):void 0}}},ue=le,de=(a("6de8"),Object(u["a"])(ue,ie,ce,!1,null,"62f2cbfe",null)),pe=de.exports,me={components:{Modal:pe},data:function(){return{email:"",password:"",passwordCheck:"",created:""}},validations:{email:{required:ee["required"],email:ee["email"]},password:{required:ee["required"],minLength:Object(ee["minLength"])(6)},passwordCheck:{required:ee["required"],sameAsPassword:Object(ee["sameAs"])("password")}},methods:{onSubmit:function(){var e=this;if(this.$v.$touch(),!this.$v.$invalid){var t={billing_type:"demo",data:{},email:this.email,password:this.password};console.log(t),P.a.post("api/v1/users",t).then((function(t){console.log(t),e.created="success"})).catch((function(t){console.log(t),e.created="fail"})),this.email="",this.password="",this.passwordCheck="",this.$v.$reset()}},handleSwitch:function(){this.$router.push("login"),this.$v.$reset()},retry:function(){this.created=""}}},ve=me,he=Object(u["a"])(ve,oe,re,!1,null,null,null),fe=he.exports;s["a"].use(b["a"]);var ge=b["a"].prototype.push;b["a"].prototype.push=function(e){return ge.call(this,e).catch((function(e){}))};var we=new b["a"]({routes:[{path:"/",name:"home",component:X},{path:"/registration",name:"register",component:fe},{path:"/login",name:"login",component:ne}]});we.beforeEach((function(e,t,a){var s=["/login","/registration"],n=!s.includes(e.path),o=localStorage.getItem("tevian-token");if(n&&!o)return a("/login");a()}));var be=we,Ce=a("2f62"),_e=a("ade3"),$e={state:{face:{},faceCoord:[]},mutations:{setFace:function(e,t){e.face=t,console.log("stateFace",e.face)},setFaceCoord:function(e,t){e.faceCoord=t,console.log("stateCoords",e.faceCoord)},clearFace:function(e){e.face={}},clearFaceCoord:function(e){e.faceCoord=[]}},actions:Object(_e["a"])({setFace:function(e,t){var a=e.commit;a("setFace",t)},clearFace:function(e){var t=e.commit;t("clearFace")},setFaceCoord:function(e,t){var a=e.commit;a("setFaceCoord",t)}},"clearFace",(function(e){var t=e.commit;t("clearFaceCoord")})),getters:{getFace:function(e){return e.face},getFaceCoord:function(e){return e.faceCoord}}},Pe={state:{dbID:null},mutations:{setDB:function(e,t){e.dbID=t,console.log("state db",e.dbID)}},actions:{setDB:function(e,t){var a=e.commit;a("setDB",t)}},getters:{getDB:function(e){return console.log("state db",e.dbID),e.dbID}}};s["a"].use(Ce["a"]);var ye=new Ce["a"].Store({modules:{face:$e,db:Pe}});P.a.defaults.baseURL="https://backend.facecloud.tevian.ru/",P.a.interceptors.request.use((function(e){var t=localStorage.getItem("tevian-token");return t&&(e.headers.Authorization="Bearer "+t),e})),s["a"].use(w.a),s["a"].config.productionTip=!1,new s["a"]({router:be,store:ye,render:function(e){return e(f)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"61e0":function(e,t,a){"use strict";a("d099")},"6de8":function(e,t,a){"use strict";a("d277")},9561:function(e,t,a){},"9c0c":function(e,t,a){},ad66:function(e,t,a){"use strict";a("e1c1")},adc8:function(e,t,a){"use strict";a("9561")},bec7:function(e,t,a){"use strict";a("0272")},c1cd:function(e,t,a){"use strict";a("ec78")},d099:function(e,t,a){},d277:function(e,t,a){},e1c1:function(e,t,a){},ec78:function(e,t,a){},fd53:function(e,t,a){}});
//# sourceMappingURL=app.4d24ffd8.js.map